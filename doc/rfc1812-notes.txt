These notes detail Click's compliance to RFC1812. They refer both to
Click C++ code and to the router configuration file we use
operationally (currently cone7.ipb).

X1 means I don't understand the RFC. X2 means I think the RFC is
wrong. X3 means Click's architecture makes it too hard to comply.  X4
means we don't yet comply but intend to.

Big open issues:
  What is an IP broadcast address (as used in eg 4.3.2.7)? Can't
    tell except for all ones or (maybe) local subnet.

4.2.2.2: IPGWOptions puts the outgoing i/f's IP address inside record
route &c options, though it has to be on the output path for this to
work.

4.2.2.7: Fragmentation works.

4.3.1: It's not clear what it means to support ICMP.

4.3.2.1: Linux takes care of passing unknown ICMP messages to user level.

4.3.2.2: ICMPError initializes the TTL to 200.

4.3.2.3: ICMPError puts the original IP header in the ICMP payload.
None of the factions that produce ICMP errors (DecIPTTL, SetIPRoute)
modify the header.

4.3.2.4: ICMPError does use the outgoing interface address
as the source address for generated ICMP errors.

4.3.2.5: ICMPError uses a TOS of 0.

4.3.2.5: X4: ICMPError doesn't set precedence correctly.

4.3.2.7: X4: ICMPError suppresses error responses correctly except
that it may respond to IP broadcasts and invalid sources. It
doesn't responsd to link-level broadcasts.

4.3.2.8: Click can rate-limit ICMP messages with a Shaper.

4.3.3.1: cone7.ipb doesn't generate ICMP Destination Unreachable,
but it easily could.

4.3.3.1: X2 X3: maybe Click should generate ICMP Destination
Unreachable in reply to ARP failure.

4.3.3.2: X4: 5.2.7.2 says redirect is mandatory.

4.3.3.5: We send ICMP Parameter Problem when we see broken IP options,
with the correct pointer to the invalid header byte.

4.3.3.6-10: Linux takes care of Echo, Timestamp, and (maybe)
router advertisement.

5.2.2: CheckIPChecksum() makes the length checks, checks that version
== 4, and checks the IP header checksum. Technically we violate the
requirement that there be no way to disable the checks, since users
can configure Click w/o CheckIPChecksum.

5.2.7.3: DecIPTTL[1] -> ICMPError(addr, 11, 0) produces Time Exceeded
messages when the TTL expires. cone7.ipb does this after deciding to
forward the packet.

5.3.13.6: X3: Timestamp Option needs to be able to recognize any of the
router's addresses.

RFC 792: ICMPError does set the code field correctly in the ICMP
parameter problem error message using a packet annotation.
