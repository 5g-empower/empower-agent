# Warning: this file must be usable by regular make
# (unlike the Makefiles in subdirectories).

SHELL = @SHELL@
@SUBMAKE@

top_srcdir = @top_srcdir@
srcdir = @srcdir@
AUTOHEADER = autoheader
AUTOCONF = autoconf

all: click-xform

click-xform: Makefile
	@cd click-xform; $(MAKE) all

Makefile: $(srcdir)/Makefile.in
	cd $(top_builddir) \
	  && CONFIG_FILES=$(subdir)/$@ CONFIG_FACLISTS=no CONFIG_HEADERS= $(SHELL) ./config.status

clean:
	@-cd click-xform; $(MAKE) clean
distclean:
	@-cd click-xform; $(MAKE) distclean
	-rm -f Makefile


DISTFILES = Makefile.in \
	lib/confparset.cc lib/confparset.hh \
	lib/elementt.cc lib/elementt.hh \
	lib/lexert.cc lib/lexert.hh \
	lib/routert.cc lib/routert.hh \
	click-xform/Makefile.in \
	click-xform/click-xform.cc \
	click-xform/hashmapi.cc \
	click-xform/vectori.cc

distdir:
	mkdir $(distdir)
	@-chmod 777 $(distdir)
	mkdir $(distdir)/lib $(distdir)/click-xform
	@-chmod 777 $(distdir)/lib $(distdir)/click-xform
	@for file in $(DISTFILES); do \
	  d=$(srcdir); \
	  if test -d $$d/$$file; then \
	    cp -pr $$d/$$file $(distdir)/$$file; \
	  else \
	    test -f $(distdir)/$$file \
	    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \
	    || cp -p $$d/$$file $(distdir)/$$file || :; \
	  fi; \
	done


.PHONY: all click-xform clean distclean distdir
